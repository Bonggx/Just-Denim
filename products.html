<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Our Collection | Just Denim</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    .product-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; }
    .product-card { text-align: center; max-width: 220px; }
    .product-card img { width: 200px; height: 200px; object-fit: cover; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,.1); }
    .product-card input { margin-top: 10px; padding: 8px; width: 100%; border-radius: 6px; border: 1px solid #ccc; }
    .page-header { display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
    .cart-button { background: #007acc; color: #fff; border: none; border-radius: 8px; font-weight: 600; padding: 10px 18px; cursor: pointer; }
    .cart-button:hover { background: #005f99; }
    .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: 999; }
    .modal-content { background: #fff; margin: 10% auto; padding: 20px; border-radius: 10px; max-width: 400px; }
    .close { float: right; font-size: 20px; cursor: pointer; }
  </style>
</head>
<body>
  <nav class="navbar">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About Us</a></li>
      <li><a href="products.html" class="active">Products</a></li>
      <li><a href="reviews.html">Reviews</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <div class="page-header">
    <h1>Explore our Totebag Collections</h1>
    <button id="topCartBtn" class="cart-button">
      <i class="fa-solid fa-cart-shopping"></i> Cart <span id="cart-count">(0)</span>
    </button>
  </div>

  <!-- Your products remain untouched üëá -->
  <!-- Colored Totes -->
  <section>
    <h2>Totes of Color</h2>
    <h4>Regular size: N6,000 | Mini size: N5,000</h4>
    <div class="product-grid">
      <div class="product-card"><img src="Colored Tote 1.jpeg" alt="Colored Tote 1"><input type="text" placeholder="Same? | Preferred taste & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Colored Tote 2.jpeg" alt="Colored Tote 2"><input type="text" placeholder="Same? | Preferred taste & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Colored Tote 3.jpeg" alt="Colored Tote 3"><input type="text" placeholder="Same? | Preferred taste & size"><button class="add-to-cart-single">Add to Cart</button></div>
    </div>
  </section>

  <!-- Graphic Art Totes -->
  <section>
    <h2>Graphic Art Totes</h2>
    <h4>Price: N6,500</h4>
    <div class="product-grid">
      <div class="product-card"><img src="Graphic Tote 1.jpeg" alt="Graphic Tote 1"><input type="text" placeholder="Same? | Preferred art & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Graphic Tote 2.jpeg" alt="Graphic Tote 2"><input type="text" placeholder="Same? | Preferred art & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Graphic Tote 3.jpeg" alt="Graphic Tote 3"><input type="text" placeholder="Same? | Preferred art & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Graphic Tote 4.jpeg" alt="Graphic Tote 4"><input type="text" placeholder="Same? | Preferred art & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Graphic Tote 5.jpeg" alt="Graphic Tote 5"><input type="text" placeholder="Same? | Preferred art & size"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Graphic Tote 6.jpeg" alt="Graphic Tote 6"><input type="text" placeholder="Same? | Preferred art & size"><button class="add-to-cart-single">Add to Cart</button></div>
    </div>
  </section>

  <!-- Writeup Totes -->
  <section>
    <h2>Plain Text Writeup Totes</h2>
    <h4>Regular size: N6,000 | Mini size: N5,000</h4>
    <div class="product-grid">
      <div class="product-card"><img src="Writeup Tote 1.jpeg" alt="Writeup Tote 1"><input type="text" placeholder="Same? | Describe your Writeup"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Writeup Tote 2.jpeg" alt="Writeup Tote 2"><input type="text" placeholder="Same? | Describe your Writeup"><button class="add-to-cart-single">Add to Cart</button></div>
      <div class="product-card"><img src="Writeup Tote 3.jpeg" alt="Writeup Tote 3"><input type="text" placeholder="Same? | Describe your Writeup"><button class="add-to-cart-single">Add to Cart</button></div>
    </div>
  </section>

  <!-- Plain Totes -->
  <section>
    <h2>Plain Totes</h2>
    <h4>Regular size: N4,000 | Mini size: N3,000</h4>
    <div class="product-grid">
      <div class="product-card"><img src="Plain Tote.jpeg" alt="Plain Tote 1"><input type="text" placeholder="Same? | Preferred color & size"><button class="add-to-cart-single">Add to Cart</button></div>
    </div>
  </section>

  <!-- Custom Input -->
  <div style="max-width:400px;margin:40px auto;text-align:center;">
    <h3>Describe your custom tote</h3>
    <textarea id="customNote" placeholder="E.g. Sky blue tote with butterfly and scripture" style="width:100%;height:100px;border-radius:8px;padding:10px;border:1px solid #ccc;"></textarea>
    <button id="customAddBtn" class="cart-button" style="margin-top:10px">Add to Cart</button>
  </div>

  <div style="text-align:center;margin:40px 0">
    <button id="proceedBtn" class="cart-button">Proceed to Checkout</button>
  </div>

  <div style="text-align:center;margin-bottom:50px">
    <button id="bottomCartBtn" class="cart-button">
      <i class="fa-solid fa-cart-shopping"></i> Cart <span id="cart-count">(0)</span>
    </button>
  </div>

  <!-- Modal -->
  <div class="modal" id="cartModal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h3>Cart Summary</h3>
      <div id="cartPreview" style="margin-top:15px;max-height:200px;overflow-y:auto;"></div>
    </div>
  </div>

  <footer>
    <div class="footer-brand">Just Denim</div>
    <div class="footer-socials">
      <a href="https://instagram.com/just___denim" target="_blank"><i class="fa-brands fa-instagram"></i></a>
      <a href="https://twitter.com/Just__Denim" target="_blank"><i class="fa-brands fa-twitter"></i></a>
    </div>
    <p>&copy; 2020 Just Denim. All rights reserved.</p>
  </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  function loadCart() {
    return JSON.parse(localStorage.getItem('justDenimCart') || '[]');
  }

  function saveCart(arr) {
    localStorage.setItem('justDenimCart', JSON.stringify(arr));
  }

  function priceOf(label, note) {
    const lower = note.toLowerCase();
    const isMini = lower.includes('mini');
    if (label.includes('Graphic')) return 6500;
    if (label.includes('Plain')) return isMini ? 3000 : 4000;
    if (label.includes('Writeup')) return isMini ? 5000 : 6000;
    if (label.includes('Colored')) return isMini ? 5000 : 6000;
    return 5000; // Default for custom notes
  }

  let cartArr = loadCart();
  updateCounter();
  updatePreview();

  document.querySelectorAll('.add-to-cart-single').forEach(btn => {
    btn.addEventListener('click', () => {
      const input = btn.previousElementSibling;
      const img = btn.parentElement.querySelector('img');
      addItem(input, img);
    });
  });

  document.getElementById('customAddBtn').onclick = () => {
    addItem(document.getElementById('customNote'));
  };

  document.getElementById('proceedBtn').onclick = () => {
    if (!cartArr.length) return alert('Cart is empty üôÉ');
    window.location = 'checkout.html';
  };

  ['topCartBtn', 'bottomCartBtn'].forEach(id => {
    document.getElementById(id).onclick = () => {
      updatePreview();
      document.getElementById('cartModal').style.display = 'block';
    };
  });

  document.getElementById('closeModal').onclick = () => {
    document.getElementById('cartModal').style.display = 'none';
  };

  function updateCounter() {
    document.querySelectorAll('#cart-count').forEach(span => {
      span.textContent = `(${cartArr.length})`;
    });
  }

  function addItem(inputEl, imgEl = null) {
    const note = (inputEl?.value || '').trim();
    if (!note) return alert('üìù Please describe your tote design.');

    const label = imgEl ? (imgEl.alt || 'Tote') : 'Custom Tote';
    const price = priceOf(label, note);

    cartArr.push({ label, note, price });
    saveCart(cartArr);
    updateCounter();
    updatePreview();

    inputEl.value = '';
    alert('‚úÖ Added to cart!');
  }

  function updatePreview() {
    const preview = document.getElementById('cartPreview');
    if (!cartArr.length) {
      preview.innerHTML = '<p style="color:#888;">Your cart is empty.</p>';
      return;
    }

    let total = cartArr.reduce((sum, item) => sum + item.price, 0);

    preview.innerHTML = cartArr.map((item, i) => `
      <div style="margin-bottom:8px;padding:6px;border:1px solid #eee;border-radius:6px;">
        <strong style="color:#007acc">${item.label} ‚Äî ‚Ç¶${item.price.toLocaleString()}</strong><br>
        <small>${item.note}</small><br>
        <button onclick="removeItem(${i})"
          style="margin-top:4px;padding:4px 10px;font-size:13px;background:#e74c3c;color:#fff;border:none;border-radius:5px;cursor:pointer;">
          üóëÔ∏è Remove
        </button>
      </div>
    `).join('') + `
      <div style="border-top:1px solid #ccc;margin-top:15px;padding-top:10px;font-weight:bold;">
        Total: ‚Ç¶${total.toLocaleString()}
      </div>
    `;
  }

  window.removeItem = function(index) {
    cartArr.splice(index, 1);
    saveCart(cartArr);
    updateCounter();
    updatePreview();
  };
});
</script>

</body>
</html>
